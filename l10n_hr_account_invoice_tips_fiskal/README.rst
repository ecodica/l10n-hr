=============================
Croatia - Invoice Tips Fiskal
=============================

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/github-info3%2Fi3_odoo_modules-lightgray.png?logo=github
    :target: https://github.com/info3/i3_odoo_modules/tree/17.0/l10n_hr_account_invoice_tips_fiskal
    :alt: info3/i3_odoo_modules

|badge1| |badge2| 

Module for Croatian localization of invoice tips fiscalization.

**Table of contents**

.. contents::
   :local:

Installation
============

Prerequisites:
==============
- Odoo 17.0 Community Edition
- l10n_hr_account_invoice_tips

Additional:
==============
 - Tips can only be fiscalized with schema v.17 or newer

Configuration
=============

To be able to use Tips fiskalization, use Fiskalizaction schema v.17 or newer (Invoicing > Configuration > Fiskal Certificates > Fiskalizaction schema). Older schemas don't support tip fiskalization.
To enable the fiskalization of tips after the invoice is fiskalized, Fiskalize Invoice Tip On Confirmation must be set on the company.

.. image:: ./l10n_hr_account_invoice_tips_fiskal/static/description/1.png
   :width: 1000px
   :align: center

Usage
=====

In the tab for Invoice tips will also be a button to Fiskalize invoice tip.
To be able to fiskalize invoice, the following conditions must be set: Invoice must have ZKI set, the Tip Amount must be set, and Tip Payment Method should be set. Note that Bank transfers are not fiskalized if not otherwise defined by the company.
Also, new field, Tip Is Fiskalized is visible. If true, then the invoice is successfully fiskalized and the button to Fiskalize the tip will be invisible. When Tip is fiskalized, Tip amount and Tip Payment Method cannot be changed.
Under Tip fields is added a list of Fiskalization messages and their status.

.. image:: ./l10n_hr_account_invoice_tips_fiskal/static/description/2.png
   :width: 1000px
   :align: center

When Tip is fiskalized, button Fiskalize Refund will be visible. If the user clicks on the button, it will call Tip fiskalization with a negative Tip Amount.
Also, when an invoice refund is created and the tip on the refund is fiskalized, it will be fiskalized with a negative amount.
After refund fiskalization, Tip Refund Is Fiskalized will be set to true, and it will be visible under the field Tip Is Fiskalized.
When Tip is refunded and then the user creates a credit note of invoice, Tip Amount on credit note will be 0.0.

.. image:: ./l10n_hr_account_invoice_tips_fiskal/static/description/3.png
   :width: 1000px
   :align: center

The module also extends the Tips Report. It adds new fields to the report wizard: Only Fiscalized Tips (default 'False') and Only Fiscalized Invoices (default 'True').
Only Fiscalized Tips filters only invoices that have fiscalized tips.
Only Fiscalized Invoices shows only invoices that have ZKI set (are fiscalized).
It also adds a new column to the report: ZKI.

.. image:: ./l10n_hr_account_invoice_tips_fiskal/static/description/4.png
   :width: 1000px
   :align: center

Changelog
=========

17.0.1.0.0 (2024-09-30)
~~~~~~~~~~~~~~~~~~~~~~~

* Initial version of module

Credits
=======

Authors
~~~~~~~

* info3

Maintainers
~~~~~~~~~~~

This module is part of the `info3/i3_odoo_modules <https://github.com/info3/i3_odoo_modules/tree/17.0/l10n_hr_account_invoice_tips_fiskal>`_ project on GitHub.


